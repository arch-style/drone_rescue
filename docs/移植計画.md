# ゲームロジック移植計画

## 移植の優先順位

### フェーズ1: コアゲームロジック（現在作業中）
1. **ゲームステート管理**
   - メニュー、プレイ中、ゲームオーバー、失敗の状態管理
   - ステージシステム

2. **ドローンの実装**
   - 基本的な動き（上下左右）
   - バッテリーシステム
   - 物理演算（重力、加速度）

3. **ステージの実装**
   - 地形の生成
   - 建物の配置
   - 基地と充電ポート

4. **市民の実装**
   - 配置ロジック
   - 救助システム

### フェーズ2: ゲームシステム
5. **救助メカニクス**
   - ロープシステム
   - 収容と降下

6. **UIシステム**
   - HUD（バッテリー、時間、救助人数）
   - メニュー画面
   - ゲームオーバー画面

7. **アップグレードシステム**
   - アップグレード種類
   - 進捗管理
   - 購入システム

### フェーズ3: ポリッシュ
8. **サウンドシステム**
   - BGM
   - 効果音

9. **エフェクト**
   - パーティクル効果
   - アニメーション

10. **最適化とPWA対応**
    - パフォーマンス最適化
    - タッチコントロール
    - PWA設定

## 技術的な変更点

### Canvas API → PixiJS
- `ctx.fillRect()` → `Graphics` or `Sprite`
- `ctx.drawImage()` → `Sprite` with `Texture`
- 手動のカメラ実装 → `Container` のposition操作

### JavaScript → TypeScript
- 型定義の追加
- インターフェースの定義
- クラスベースの設計強化

### 新機能の追加
- スプライトシートの活用
- WebGLエフェクト
- より滑らかなアニメーション

## 次の作業
1. ゲームステート管理の実装
2. ドローンクラスの移植
3. 基本的な入力システムの実装